(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{454:function(s,n,a){"use strict";a.r(n);var e=a(7),r=Object(e.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"docker-常见帮助命令、镜像命令、容器命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-常见帮助命令、镜像命令、容器命令"}},[s._v("#")]),s._v(" Docker 常见帮助命令、镜像命令、容器命令")]),s._v(" "),n("h2",{attrs:{id:"_1-帮助命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-帮助命令"}},[s._v("#")]),s._v(" 1.帮助命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("docker version   //验证docker的版本\ndocker info      //查看docker的信息\ndocker --help    //帮助命令，可查看常见的命令\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"_2-镜像命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-镜像命令"}},[s._v("#")]),s._v(" 2.镜像命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    docker images\n    //列出本地主机上的镜像\n    //列出的选项说明\n        REPOSITORY  镜像的仓库源\n        TAG     镜像的标签\n        IMAGE ID 镜像ID\n        CREATED  镜像创建时间\n        SIZE     镜像的大小\n    //常见的参数说明\n    -a :  列出本地所有的镜像（包含中间映像层）\n    -q ： 只显示出镜像ID，可以与-a同时使用，-qa\n    --digests ： 显示镜像的摘要信息\n    --no-trunc ： 显示完整的镜像信息\n\n    docker search xxx\n    //在docker hub上查找某个镜像,xxx为某个镜像的名称，例如 docker search tomcat\n    //常见的参数说明\n    --no-trunc ： 显示完整的镜像描述\n    -s ： 列出收藏数不小于指定值的镜像\n    --automated : 只列出automated build 类型的镜像\n\n    docker pull xxx\n    //从docker hub(配置阿里云镜像加速后是阿里云) 上下载某个镜像,xxx为某个镜像的名称，例如 docker pull nginx，不写版本号表示使用的是最新版的，可以使用docker pull nginx[:版本号]下载指定版本的镜像\n\n    docker rmi xxx\n    //在本地删除某个镜像，xxx为某个镜像的名称ID\n    //删除单个镜像 docker rmi -f 镜像名：TAG，例如 docker rmi -f tomcat ,-f表示强制删除\n    //删除多个镜像 docker rmi -f 镜像名1：TAG 镜像名2：TAG\n    //删除全部镜像 docker rmi -f $(docker images -qa)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br")])]),n("h2",{attrs:{id:"_3-容器命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-容器命令"}},[s._v("#")]),s._v(" 3.容器命令")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//有镜像才能有容器，下载一个centos镜像进行演示，使用 docker pull centos 命令 下载镜像\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_3-1-启动交互式容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-启动交互式容器"}},[s._v("#")]),s._v(" 3.1 启动交互式容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//新建并启动容器，同时进入容器\ndocker run -it xxx  //例如  docker run -it --name mycentos1127 centos\n//参数说明\n    --name=“容器新名字”：为容器指定一个名称\n    -d： 后台运行容器，并返回容器ID，即启动守护式容器\n    -i: 以交互模式运行容器，通常与-t同时使用\n    -t: 为容器重新分配一个伪输入终端，通常与-i同时使用\n\n//列出当前所有正在运行的容器\ndocker ps -a\n//参数说明：\n    -a ： 列出当前所有正在运行的容器+历史上运行过的容器\n    -l ： 显示最近创建的容器\n    -n ： 显示最近n个创建的容器\n    -q : 静默模式，只显示容器编号\n    --no-trunc : 不截断输出\n\n//退出容器\n//两种退出方式：1.exit ：容器停止退出\n                2.ctrl+P+Q : 容器不停止退出\n\n//启动容器\ndocker start 容器ID/容器名\n\n//重启容器\ndocker restart 容器ID/容器名\n\n//停止容器\ndocker stop 容器ID/容器名\n\n//强制停止容器\ndocker kill 容器ID/容器名\n\n//删除已停止的容器\ndocker rm 容器ID/容器名\n    //一次性删除多个容器\n    docker rm -f $(docker ps -qa)  //删除所有的容器\n    docker ps -a -q | xargs docker rm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br")])]),n("h3",{attrs:{id:"_3-2-启动守护式容器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-启动守护式容器"}},[s._v("#")]),s._v(" 3.2 启动守护式容器")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("//新建并启动容器但是不进入容器\ndocker run -d 容器ID/容器名\n//使用此方式创建容器，在使用 docker ps -a 命令后发现，容器已经退出，docker容器后台运行，就必须要有一个前台进程，容器运行的命令如果不是那些一直挂起的命令(如 top，tail)，就是自动退出的。最好的解决方案就是，将要运行的程序以前台进程的形式运行\n\n//查看容器日志\ndocker logs -f -t --tail 容器ID\n//参数说明\n    -t ： 指加入的时间戳\n    -f ： 跟随最新的日志打印\n    --tail : 数字显示最后多少条\n\n//查看容器内运行的进程\ndocker top 容器ID\n\n//查看容器内部细节\ndocker inspect 容器ID\n\n//进入正在运行的容器并以命令行进行交互\ndocker exec -it 容器ID bashShell\n//重新进入：\ndocker attach 容器ID\n//上述两者的比较：\n    exec  是在容器中打开新的终端，并且可以启动新的进程\n    attach  直接进入容器启动命令的终端，不会启动新的进程\n//例如：\ndocker exec -t 2e8c2977d0f0 ls -l /tmp\n//进入 2e8c2977d0f0 这个容器中执行 ls -l /tmp 命令后直接退出，返回宿主机。\n\ndocker attach 2e8c2977d0f0\n//进入容器ID为 2e8c2977d0f0 的容器中\n\ndocker exec -t 2e8c2977d0f0 /bin/bash\n//进入容器ID为 2e8c2977d0f0 的容器中\n\n//从容器内拷贝文件到主机上\ndocker cp 容器ID:容器内路径 目的主机路径\n//例如：\ndocker cp 2e8c2977d0f0:/tmp/ks-script-0n44nrd1 /root\n//将2e8c2977d0f0这个容器中的 tmp 目录下的 ks-script-0n44nrd1 文件移动到宿主机的 root 目录下\n\n//docker设置容器开机自启动\ndocker update --restart=always 镜像ID\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);